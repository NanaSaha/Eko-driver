(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{Ez5i:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),e=t("mrSG"),o=t("ZZ/e"),r=t("6nr9"),i=t("fTLw"),c=t("Aso2"),a=function(){function l(l,n,t,u,e){this.navCtrl=l,this.prof=n,this.settings=t,this.eventProvider=u,this.route=e,this.currentEvent={},this.total=0,this.allTotals=0,this.driverMade=0,this.surcharges=[],this.totalSurge=0,this.actual=0,this.riderPaid=0,this.totalRiderSurge=0,this.totalDriverSurge=0,this.percentRider=0,this.flatRider=0,this.percentDriver=0,this.flatDriver=0,this.riderPercents=[],this.driverPercents=[],this.math=Math,this.riderpaid=0}return l.prototype.ionViewDidEnter=function(){var l=this,n=[],t=[],u=[],e=[],o=[],r=[],i=[],c=[];console.log(this.route.snapshot.paramMap.get("eventId")),this.eventProvider.getEventDetail(this.route.snapshot.paramMap.get("eventId")).on("value",(function(a){if(l.currentEvent=a.val(),l.currentEvent.id=a.key,console.log("EVENTS:",a.val()),l.dateOfTip=l.currentEvent.date,l.tolls=l.currentEvent.toll,l.currentPrie=l.currentEvent.realPrice,l.surcharges=l.currentEvent.surcharge,l.osc=l.currentEvent.osc,l.riderpaid=l.currentEvent.realPrice,l.driverMade=l.currentEvent.realPrice,l.currentEvent.surcharge)for(var b=0;b<l.currentEvent.surcharge.length;b++){u.push(parseFloat(l.currentEvent.surcharge[b].price));var s=u.reduce((function(l,n){return l+n}));l.totalSurge=s,l.actual=l.currentEvent.price-l.totalSurge,console.log(l.totalSurge)}if(l.surcharges&&l.surcharges.forEach((function(t){if(1==t.owner){if(1==t.bone){var u=t.price/100*l.currentEvent.realPrice;console.log(t.price),e.push(u);var a=e.reduce((function(l,n){return l+n}));l.percentRider=a,console.log(l.percentRider)}if(0==t.bone){n.push(parseFloat(t.price));var b=n.reduce((function(l,n){return l+n}));l.flatRider=b,console.log(b)}l.totalRiderSurge=l.flatRider+l.percentRider,console.log(l.totalRiderSurge)}if(l.riderpaid=l.currentEvent.realPrice,0==t.owner){if(1==t.bone){var s=t.price/100;console.log(s*l.currentEvent.tip),i.push(u=s*l.currentEvent.tip);var g=i.reduce((function(l,n){return l+n}));l.percentDrive=g,console.log(Math.floor(t.price)/100*l.currentEvent.tip)}if(0==t.bone){c.push(parseFloat(t.price));var d=c.reduce((function(l,n){return l+n}));l.flatDrive=d,console.log(d)}l.totalDriverSurg=l.flatDrive+l.percentDrive}0==t.owner&&(1==t.bone&&(s=t.price/100,console.log(s*l.riderpaid),r.push(u=s*l.riderpaid),g=r.reduce((function(l,n){return l+n})),l.percentDriver=g,console.log(Math.floor(t.price)/100*l.riderpaid)),0==t.bone&&(o.push(parseFloat(t.price)),d=o.reduce((function(l,n){return l+n})),l.flatDriver=d,console.log(d)),l.totalDriverSurge=l.flatDriver+l.percentDriver,console.log(l.totalDriverSurge,l.flatDriver,l.percentDriver))})),console.log(l.totalDriverSurg),l.totemTIPS=(parseFloat(l.currentEvent.tip)-l.totalDriverSurg).toFixed(2)||0,l.totemTIPS||(l.totemTIPS=0),console.log(l.currentEvent.tolls),l.currentEvent.toll)for(b=0;b<l.currentEvent.toll.length;b++)t.push(l.currentEvent.toll[b].tagCost),s=t.reduce((function(l,n){return l+n})),l.total=s,console.log(l.total,n);l.currentEvent.tip||(l.currentEvent.tip=0),l.myTip=parseFloat(l.currentEvent.tip).toFixed(2),l.driverMade=l.riderpaid,l.GetRoute(l.currentEvent.location,l.currentEvent.destination)}))},l.prototype.goBack=function(){return e.b(this,void 0,void 0,(function(){return e.e(this,(function(l){return this.navCtrl.navigateRoot("history"),[2]}))}))},l.prototype.GetRoute=function(l,n){var t,u=new google.maps.DirectionsService,e=new google.maps.DirectionsRenderer({draggable:!0}),o={zoom:7,center:new google.maps.LatLng(18.975,72.8258),disableDefaultUI:!0},r=new google.maps.Map(document.getElementById("dvMap"),o);e.setMap(r);var i={origin:t=l,destination:n=n,travelMode:google.maps.TravelMode.DRIVING};u.route(i,(function(l,n){n==google.maps.DirectionsStatus.OK&&e.setDirections(l)})),(new google.maps.DistanceMatrixService).getDistanceMatrix({origins:[t],destinations:[n],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},(function(l,n){n==google.maps.DistanceMatrixStatus.OK&&"ZERO_RESULTS"!=l.rows[0].elements[0].status||alert("Unable to find the distance via road.")}))},l.prototype.ngOnInit=function(){},l}(),b=function(){return function(){}}(),s=t("pMnS"),g=t("oBZk"),d=t("ZYCi"),p=u.sb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]   .drive[_ngcontent-%COMP%]{color:#000}ion-content[_ngcontent-%COMP%]   .drive[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.8em;padding:12px;color:#248cd2}ion-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#3eab0f;padding-top:14px;padding-bottom:14px;border-radius:12px}ion-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#248cd2}ion-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#fbb91d;padding-top:14px;padding-bottom:14px;border-bottom:1px solid rgba(212,212,212,.93)}ion-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#248cd2}ion-content[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{width:auto;padding-top:8px;padding-bottom:8px}ion-content[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:auto}ion-content[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#fbb91d}ion-content[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]{width:auto;padding-top:8px;padding-bottom:8px}ion-content[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#483d8b}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3em;height:auto;line-height:100px;width:auto}#topcontent[_ngcontent-%COMP%]{width:100%;padding-top:7px;padding-bottom:7px;font-size:1.27em;color:#fff}#topcontent[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border:1px solid #f7f7f7;vertical-align:middle;width:100%}h1[_ngcontent-%COMP%]{background:#248cd2;font-size:1.67em;padding-top:7px;width:auto;padding-bottom:7px}.followed-items[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;border-radius:12px;border:1px solid rgba(212,212,212,.93)}.topped-items[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:0;margin-bottom:6px}.topped-items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fbb91d;font-size:1.27em;padding:2px}.topped-items[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#09f!important;font-size:1em;padding:2px}ion-button[_ngcontent-%COMP%]{border-radius:12px}ion-footer[_ngcontent-%COMP%]{border-top:1.4px solid rgba(212,212,212,.93)}"]],data:{}});function h(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,7,"ion-header",[["no-border",""]],null,null,null,g.Z,g.n)),u.tb(1,49152,null,0,o.C,[u.h,u.k,u.A],null,null),(l()(),u.ub(2,0,null,0,5,"ion-toolbar",[],null,null,null,g.wb,g.K)),u.tb(3,49152,null,0,o.Db,[u.h,u.k,u.A],null,null),(l()(),u.ub(4,0,null,0,3,"ion-button",[["color","primary"],["fill","clear"],["ion-button",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.goBack()&&u),u}),g.P,g.d)),u.tb(5,49152,null,0,o.l,[u.h,u.k,u.A],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),u.ub(6,0,null,0,1,"ion-icon",[["name","arrow-back"],["style","font-size: 1.5em"]],null,null,null,g.ab,g.o)),u.tb(7,49152,null,0,o.D,[u.h,u.k,u.A],{name:[0,"name"]},null),(l()(),u.ub(8,0,null,null,119,"ion-content",[["class","yes-scroll"],["color","light"]],null,null,null,g.S,g.g)),u.tb(9,49152,null,0,o.v,[u.h,u.k,u.A],{color:[0,"color"]},null),(l()(),u.ub(10,0,null,0,0,"div",[["id","dvMap"],["style","width: auto; height: 180px"]],null,null,null,null,null)),(l()(),u.ub(11,0,null,0,58,"ion-item",[["class","hists"],["lines","none"]],null,null,null,g.gb,g.s)),u.tb(12,49152,null,0,o.I,[u.h,u.k,u.A],{lines:[0,"lines"]},null),(l()(),u.ub(13,0,null,0,56,"div",[],null,null,null,null,null)),(l()(),u.ub(14,0,null,null,55,"ion-grid",[],null,null,null,g.Y,g.m)),u.tb(15,49152,null,0,o.B,[u.h,u.k,u.A],null,null),(l()(),u.ub(16,0,null,0,9,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(17,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(18,0,null,0,7,"ion-col",[],null,null,null,g.R,g.f)),u.tb(19,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(20,0,null,0,5,"ion-label",[["class","date"]],null,null,null,g.hb,g.v)),u.tb(21,49152,null,0,o.O,[u.h,u.k,u.A],null,null),(l()(),u.ub(22,0,null,0,1,"ion-icon",[["name","calendar-outline"]],null,null,null,g.ab,g.o)),u.tb(23,49152,null,0,o.D,[u.h,u.k,u.A],{name:[0,"name"]},null),(l()(),u.ub(24,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(25,null,["",""])),(l()(),u.ub(26,0,null,0,9,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(27,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(28,0,null,0,7,"ion-col",[],null,null,null,g.R,g.f)),u.tb(29,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(30,0,null,0,5,"ion-label",[["class","location"]],null,null,null,g.hb,g.v)),u.tb(31,49152,null,0,o.O,[u.h,u.k,u.A],null,null),(l()(),u.ub(32,0,null,0,1,"ion-icon",[["name","locate"]],null,null,null,g.ab,g.o)),u.tb(33,49152,null,0,o.D,[u.h,u.k,u.A],{name:[0,"name"]},null),(l()(),u.ub(34,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(35,null,["",""])),(l()(),u.ub(36,0,null,0,9,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(37,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(38,0,null,0,7,"ion-col",[],null,null,null,g.R,g.f)),u.tb(39,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(40,0,null,0,5,"ion-label",[["class","destination"]],null,null,null,g.hb,g.v)),u.tb(41,49152,null,0,o.O,[u.h,u.k,u.A],null,null),(l()(),u.ub(42,0,null,0,1,"ion-icon",[["name","flag"]],null,null,null,g.ab,g.o)),u.tb(43,49152,null,0,o.D,[u.h,u.k,u.A],{name:[0,"name"]},null),(l()(),u.ub(44,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(45,null,["",""])),(l()(),u.ub(46,0,null,0,9,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(47,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(48,0,null,0,7,"ion-col",[],null,null,null,g.R,g.f)),u.tb(49,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(50,0,null,0,5,"ion-label",[["class","price"]],null,null,null,g.hb,g.v)),u.tb(51,49152,null,0,o.O,[u.h,u.k,u.A],null,null),(l()(),u.ub(52,0,null,0,1,"ion-icon",[["name","contact"]],null,null,null,g.ab,g.o)),u.tb(53,49152,null,0,o.D,[u.h,u.k,u.A],{name:[0,"name"]},null),(l()(),u.ub(54,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(55,null,["",""])),(l()(),u.ub(56,0,null,0,9,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(57,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(58,0,null,0,7,"ion-col",[],null,null,null,g.R,g.f)),u.tb(59,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(60,0,null,0,5,"ion-label",[["class","date"]],null,null,null,g.hb,g.v)),u.tb(61,49152,null,0,o.O,[u.h,u.k,u.A],null,null),(l()(),u.ub(62,0,null,0,1,"ion-icon",[["name","car"]],null,null,null,g.ab,g.o)),u.tb(63,49152,null,0,o.D,[u.h,u.k,u.A],{name:[0,"name"]},null),(l()(),u.ub(64,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(65,null,[""," "])),(l()(),u.ub(66,0,null,0,3,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(67,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(68,0,null,0,1,"ion-col",[],null,null,null,g.R,g.f)),u.tb(69,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(70,0,null,0,3,"ion-title",[["padding",""],["text-center",""]],null,null,null,g.vb,g.J)),u.tb(71,49152,null,0,o.Bb,[u.h,u.k,u.A],null,null),u.tb(72,16384,null,0,o.e,[u.k],null,null),(l()(),u.Ob(-1,0,["RIDER PAID"])),(l()(),u.ub(74,0,null,0,4,"ion-title",[["padding",""],["text-center",""]],null,null,null,g.vb,g.J)),u.tb(75,49152,null,0,o.Bb,[u.h,u.k,u.A],null,null),u.tb(76,16384,null,0,o.e,[u.k],null,null),(l()(),u.ub(77,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(78,null,["","",""])),(l()(),u.ub(79,0,null,0,19,"ion-item",[["lines","none"],["padding",""]],null,null,null,g.gb,g.s)),u.tb(80,49152,null,0,o.I,[u.h,u.k,u.A],{lines:[0,"lines"]},null),u.tb(81,16384,null,0,o.e,[u.k],null,null),(l()(),u.ub(82,0,null,0,16,"ion-grid",[],null,null,null,g.Y,g.m)),u.tb(83,49152,null,0,o.B,[u.h,u.k,u.A],null,null),(l()(),u.ub(84,0,null,0,14,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(85,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(86,0,null,0,5,"ion-col",[],null,null,null,g.R,g.f)),u.tb(87,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(88,0,null,0,3,"ion-label",[["style","\n              font-weight: 600;\n              color: rgb(75, 75, 75);\n              margin: 5px;\n              text-align: center;\n            "],["text-center",""]],null,null,null,g.hb,g.v)),u.tb(89,49152,null,0,o.O,[u.h,u.k,u.A],null,null),u.tb(90,16384,null,0,o.e,[u.k],null,null),(l()(),u.Ob(-1,0,[" Ride Cost"])),(l()(),u.ub(92,0,null,0,6,"ion-col",[],null,null,null,g.R,g.f)),u.tb(93,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(94,0,null,0,4,"ion-label",[["style","margin: 5px"],["text-center",""]],null,null,null,g.hb,g.v)),u.tb(95,49152,null,0,o.O,[u.h,u.k,u.A],null,null),u.tb(96,16384,null,0,o.e,[u.k],null,null),(l()(),u.ub(97,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(98,null,["","",""])),(l()(),u.ub(99,0,null,0,3,"ion-title",[["padding",""],["text-center",""]],null,null,null,g.vb,g.J)),u.tb(100,49152,null,0,o.Bb,[u.h,u.k,u.A],null,null),u.tb(101,16384,null,0,o.e,[u.k],null,null),(l()(),u.Ob(-1,0,["DRIVER MADE"])),(l()(),u.ub(103,0,null,0,4,"ion-title",[["text-center",""]],null,null,null,g.vb,g.J)),u.tb(104,49152,null,0,o.Bb,[u.h,u.k,u.A],null,null),u.tb(105,16384,null,0,o.e,[u.k],null,null),(l()(),u.ub(106,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(107,null,["","",""])),(l()(),u.ub(108,0,null,0,19,"ion-item",[["padding",""]],null,null,null,g.gb,g.s)),u.tb(109,49152,null,0,o.I,[u.h,u.k,u.A],null,null),u.tb(110,16384,null,0,o.e,[u.k],null,null),(l()(),u.ub(111,0,null,0,16,"ion-grid",[],null,null,null,g.Y,g.m)),u.tb(112,49152,null,0,o.B,[u.h,u.k,u.A],null,null),(l()(),u.ub(113,0,null,0,14,"ion-row",[],null,null,null,g.lb,g.z)),u.tb(114,49152,null,0,o.kb,[u.h,u.k,u.A],null,null),(l()(),u.ub(115,0,null,0,5,"ion-col",[],null,null,null,g.R,g.f)),u.tb(116,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(117,0,null,0,3,"ion-label",[["style","\n              font-weight: 600;\n              color: rgb(75, 75, 75);\n              margin: 5px;\n              text-align: center;\n            "],["text-center",""]],null,null,null,g.hb,g.v)),u.tb(118,49152,null,0,o.O,[u.h,u.k,u.A],null,null),u.tb(119,16384,null,0,o.e,[u.k],null,null),(l()(),u.Ob(-1,0,["Ride Cost "])),(l()(),u.ub(121,0,null,0,6,"ion-col",[],null,null,null,g.R,g.f)),u.tb(122,49152,null,0,o.u,[u.h,u.k,u.A],null,null),(l()(),u.ub(123,0,null,0,4,"ion-label",[["style","margin: 5px"],["text-center",""]],null,null,null,g.hb,g.v)),u.tb(124,49152,null,0,o.O,[u.h,u.k,u.A],null,null),u.tb(125,16384,null,0,o.e,[u.k],null,null),(l()(),u.ub(126,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),u.Ob(127,null,["","",""]))],(function(l,n){l(n,5,0,"primary","clear"),l(n,7,0,"arrow-back"),l(n,9,0,"light"),l(n,12,0,"none"),l(n,23,0,"calendar-outline"),l(n,33,0,"locate"),l(n,43,0,"flag"),l(n,53,0,"contact"),l(n,63,0,"car"),l(n,80,0,"none")}),(function(l,n){var t=n.component;l(n,25,0,null==t.currentEvent?null:t.currentEvent.date),l(n,35,0,null==t.currentEvent?null:t.currentEvent.location),l(n,45,0,null==t.currentEvent?null:t.currentEvent.destination),l(n,55,0,t.prof.name),l(n,65,0,null==t.currentEvent?null:t.currentEvent.name),l(n,78,0,t.settings.appcurrency,t.riderpaid),l(n,98,0,t.settings.appcurrency,t.currentPrie),l(n,107,0,t.settings.appcurrency,t.driverMade),l(n,127,0,t.settings.appcurrency,t.riderpaid)}))}function v(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,1,"app-historydetail",[],null,null,null,h,p)),u.tb(1,114688,null,0,a,[o.Kb,c.a,r.a,i.a,d.a],null,null)],(function(l,n){l(n,1,0)}),null)}var f=u.qb("app-historydetail",a,v,{},{},[]),m=t("Ip0R"),k=t("gIcY");t.d(n,"HistorydetailPageModuleNgFactory",(function(){return O}));var O=u.rb(b,[],(function(l){return u.Db([u.Eb(512,u.j,u.cb,[[8,[s.a,f]],[3,u.j],u.y]),u.Eb(4608,m.m,m.l,[u.v,[2,m.y]]),u.Eb(4608,k.w,k.w,[]),u.Eb(4608,o.c,o.c,[u.A,u.g]),u.Eb(4608,o.Jb,o.Jb,[o.c,u.j,u.r]),u.Eb(4608,o.Ob,o.Ob,[o.c,u.j,u.r]),u.Eb(1073742336,m.b,m.b,[]),u.Eb(1073742336,k.v,k.v,[]),u.Eb(1073742336,k.j,k.j,[]),u.Eb(1073742336,o.Fb,o.Fb,[]),u.Eb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),u.Eb(1073742336,b,b,[]),u.Eb(1024,d.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);