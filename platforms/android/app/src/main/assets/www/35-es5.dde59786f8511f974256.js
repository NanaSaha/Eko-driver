(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{gCqE:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=t("mrSG"),i=t("ZZ/e"),u=t("1JF4"),a=t("kyOO"),c=t("kFzK"),r=t("Sf7E"),s=t("WFqv"),p=t("6nr9"),d=t("86hP"),g=t("Aso2"),b=t("fTLw"),m=function(){function n(n,l,t,e,o,i,u,a,c,r,s,p,d,g,b){this.navCtrl=n,this.One=l,this.lp=t,this.events=e,this.platform=o,this.activatedRoute=i,this.gCode=u,this.locat=a,this.settings=c,this.oneSignal=r,this.pop=s,this.load=p,this.profile=d,this.alert=g,this.eventProvider=b,this.bookable=!1,this.geocoder=new google.maps.Geocoder,this.currentYear=(new Date).getFullYear(),this.currentMonth=(new Date).getUTCMonth()+1,this.currentDay=(new Date).getUTCDate()}return n.prototype.ngOnInit=function(){var n=this;if(this.platform.is("cordova"))this.locat.map1.getMyLocation({enableHighAccuracy:!0}).then((function(l){n.lat=l.latLng.lat,n.lng=l.latLng.lng,n.userPos=new google.maps.LatLng(n.lat,n.lng);var t={lat:parseFloat(n.lat),lng:parseFloat(n.lng)};n.geocoder.geocode({location:t},(function(l,t){"OK"===t&&(n.CheckPossibles(),n.locationName=l[0].formatted_address)})),console.log("How Ploder Goder ....")}));else{this.lat=4.883364,this.lng=7.025034,this.userPos=new google.maps.LatLng(this.lat,this.lng);var l={lat:parseFloat(this.lat),lng:parseFloat(this.lng)};this.geocoder.geocode({location:l},(function(l,t){"OK"===t&&(n.locationName=l[0].formatted_address,n.CheckPossibles())})),console.log("How Ploder Goder ....")}},n.prototype.CheckPossibles=function(){var n=this;this.eventProvider.getScheduleList().on("value",(function(l){n.scheduleList=[],l.forEach((function(l){console.log(l.val().Client_Date);var t=new Date,e=new Date(l.val().Client_Date),o=n.calcDate(t,e);console.log(o[1],n.userPos);var i=n.userPos,u=new google.maps.LatLng(l.val().Client_location[0],l.val().Client_location[1]),a=google.maps.geometry.spherical.computeDistanceBetween(i,u);return console.log(a),a<1e3?(n.bookable=!0,console.log("its close enough")):n.bookable=!1,n.scheduleList.push({id:l.key,name:l.val().Client_username,price:l.val().Client_price,date:o[0],duedate:o[1],canBook:!0,time:l.val().Client_Time,location:l.val().Client_locationName,destination:l.val().Client_destinationName,payWith:l.val().Client_paymentForm,picture:l.val().Client_picture,phone:l.val().Client_phoneNumber,lat:l.val().Client_location[0],lng:l.val().Client_location[1],rating:l.val().Client_Rating,ratingText:l.val().Client_RatingText}),!1}))})),this.presentRouteLoader("")},n.prototype.Warn=function(n){this.pop.showPimp(this.lp.translate()[0].k7)},n.prototype.calcDate=function(n,l){var t=Math.floor(l.getTime()-n.getTime()),e=Math.floor(t/864e5),o=Math.floor(e/31);return Math.floor(o/12),console.log(e),[l.toDateString(),e]},n.prototype.presentRouteLoader=function(n){return o.b(this,void 0,void 0,(function(){var l,t,e=this;return o.e(this,(function(o){switch(o.label){case 0:return[4,this.load.create({message:n})];case 1:return(l=o.sent()).present(),t=setInterval((function(){null!=e.scheduleList&&(l.dismiss(),clearInterval(t))}),1e3),[2]}}))}))},n.prototype.Start=function(n){var l=this;this.platform.is("cordova")?this.One.getIds().then((function(n){l.notif_id=n.userId})):this.notif_id="43cd6829-4651-4039-bbc3-aace7fbe7d72",console.log(this.notif_id,n.id),this.notif_id&&(this.platform.is("cordova")||(this.locat.driver_lat=4.883364,this.locat.driver_lng=7.025034,this.gCode.locationName="Abuja, Nigeria",this.locationName="Abuja, Nigeria",this.lat=4.883364,this.lng=7.025034)),this.settings.id=n.id,console.log(this.settings.id),this.settings.current_ID=!0,console.log(n),this.locat.hasTransactionEnded=!0,this.locat.canTrack_=!0,console.log("Stopped Normal Movement Of Driver"),this.oneSignal.isInDeepSh_t=!0,this.profile.getUserAsClientInfo(this.activatedRoute.snapshot.paramMap.get("notif")).off("child_added"),this.profile.getUserAsClientInfo(this.activatedRoute.snapshot.paramMap.get("notif")).off("child_changed"),this.profile.getUserAsClientInfo(this.activatedRoute.snapshot.paramMap.get("notif")).off("child_removed"),this.eventProvider.getCurrentDriver().remove().then((function(t){l.eventProvider.getActivityProfile(n.id).set({Client_username:n.name,Client_Deleted:!1,Client_location:[n.lat,n.lng],Client_locationName:n.location,Client_paymentForm:n.payWith,Client_picture:n.picture,Client_phoneNumber:n.phone,Client_destinationName:n.destination,Client_CanChargeCard:!1,Client_PickedUp:!1,Client_Dropped:!1,Client_HasRated:!1,Client_ended:!1,Client_price:n.price,Client_Rating:n.rating,Client_RatingText:n.ratingText,entered:0,Driver_name:l.profile.name,Driver_location:[l.lat,l.lng],Driver_locationName:l.locationName,Driver_plate:l.profile.plate,Driver_picture:l.profile.picture,Driver_ID:"43566625",Driver_seats:l.profile.seat,Driver_carType:l.profile.carType,Driver_rating:l.profile.rating,Driver_number:l.profile.number,Driver_HasRated:!1}).then((function(t){l.platform.is("cordova")&&l.oneSignal.sendPush(n.id),l.platform.ready().then((function(){l.platform.backButton.subscribe((function(){return l.pop.presentToast(l.lp.translate()[0].k8)}))})),l.navCtrl.pop().then((function(){l.settings.id=n.id,console.log(l.settings.id)}))}))}))},n.prototype.goBack=function(){this.navCtrl.navigateBack("home")},n}(),f=function(){return function(){}}(),h=t("pMnS"),_=t("oBZk"),C=t("Ip0R"),v=t("ZYCi"),P=e.sb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]   .drive[_ngcontent-%COMP%]{color:#000}ion-content[_ngcontent-%COMP%]   .drive[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:12px;color:#248cd2}ion-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#3eab0f;font-size:1.67em;padding-top:14px;padding-bottom:14px;border-radius:12px}ion-content[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#248cd2}ion-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:orange;font-size:1.47em;padding-top:14px;padding-bottom:14px;border-bottom:1px solid rgba(212,212,212,.93)}ion-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#248cd2}ion-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#2c88f1;font-size:1.17em;padding-top:14px;padding-bottom:14px}ion-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#248cd2}ion-content[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{width:auto;padding-top:8px;padding-bottom:8px}ion-content[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3em;height:auto}ion-content[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:orange}ion-content[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]{width:auto;padding-top:8px;padding-bottom:8px}ion-content[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#483d8b}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3em;height:auto;line-height:100px;width:auto}ion-content[_ngcontent-%COMP%]   .duedate[_ngcontent-%COMP%]{color:#fff;width:auto;background:#3eab0f;border:1px solid #c5c5c5;border-radius:12px;padding:12px}ion-content[_ngcontent-%COMP%]   .duedate[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#483d8b}ion-content[_ngcontent-%COMP%]   .onduedate[_ngcontent-%COMP%]{color:#fff;width:auto;background:#f53d3d;border:1px solid #c5c5c5;border-radius:12px;padding:12px}ion-content[_ngcontent-%COMP%]   .onduedate[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:5px;color:#483d8b}#topcontent[_ngcontent-%COMP%]{width:100%;padding-top:14px;padding-bottom:14px;font-size:1.27em;color:#fff}#topcontent[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #f7f7f7;vertical-align:middle;width:100%}h1[_ngcontent-%COMP%]{background:#248cd2;font-size:1.67em;padding-top:14px;width:auto;padding-bottom:14px}.followed-items[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;border-radius:12px;border:1px solid rgba(212,212,212,.93)}"]],data:{}});function O(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[["class","ion-text-center"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" No Rides Around You Or Are Due For Starting. "]))],null,null)}function k(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h2",[["class","date"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,3,"strong",[],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,1,"ion-icon",[["name","calendar"]],null,null,null,_.ab,_.o)),e.tb(3,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(4,null,[""," "]))],(function(n,l){n(l,3,0,"calendar")}),(function(n,l){n(l,4,0,l.component.lp.translate()[0].k2)}))}function M(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h2",[["class","date"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,3,"strong",[],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,1,"ion-icon",[["name","calendar"]],null,null,null,_.ab,_.o)),e.tb(3,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(4,null,[""," "]))],(function(n,l){n(l,3,0,"calendar")}),(function(n,l){n(l,4,0,null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.date)}))}function x(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h2",[["class","time"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,3,"strong",[],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,1,"ion-icon",[["name","clock"]],null,null,null,_.ab,_.o)),e.tb(3,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(4,null,[""," "]))],(function(n,l){n(l,3,0,"clock")}),(function(n,l){n(l,4,0,null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.time)}))}function D(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h2",[["class","price"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,3,"strong",[],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,1,"ion-icon",[["name","ios-cash"]],null,null,null,_.ab,_.o)),e.tb(3,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(4,null,["",""," "]))],(function(n,l){n(l,3,0,"ios-cash")}),(function(n,l){n(l,4,0,l.component.settings.appcurrency,null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.price)}))}function y(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"ion-button",[["color","gery"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.Warn(n.parent.parent.context.$implicit.duedate)&&e),e}),_.P,_.d)),e.tb(1,49152,null,0,i.l,[e.h,e.k,e.A],{color:[0,"color"]},null),(n()(),e.ub(2,0,null,0,1,"ion-icon",[["name","ios-car"],["slot","start"]],null,null,null,_.ab,_.o)),e.tb(3,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(4,0,[" "," "," "," "]))],(function(n,l){n(l,1,0,"gery"),n(l,3,0,"ios-car")}),(function(n,l){var t=l.component;n(l,4,0,t.lp.translate()[0].k3,null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.duedate,t.lp.translate()[0].k4)}))}function w(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"ion-button",[["color","gery"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.Warn(n.parent.parent.context.$implicit.duedate)&&e),e}),_.P,_.d)),e.tb(1,49152,null,0,i.l,[e.h,e.k,e.A],{color:[0,"color"]},null),(n()(),e.ub(2,0,null,0,1,"ion-icon",[["name","ios-car"],["slot","start"]],null,null,null,_.ab,_.o)),e.tb(3,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(4,0,[" "," "]))],(function(n,l){n(l,1,0,"gery"),n(l,3,0,"ios-car")}),(function(n,l){n(l,4,0,l.component.lp.translate()[0].k5)}))}function I(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"ion-button",[["color","gery"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.Start(n.parent.parent.context.$implicit)&&e),e}),_.P,_.d)),e.tb(1,49152,null,0,i.l,[e.h,e.k,e.A],{color:[0,"color"]},null),(n()(),e.ub(2,0,null,0,1,"ion-icon",[["name","ios-car"],["slot","start"]],null,null,null,_.ab,_.o)),e.tb(3,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(4,0,[" "," "]))],(function(n,l){n(l,1,0,"gery"),n(l,3,0,"ios-car")}),(function(n,l){n(l,4,0,l.component.lp.translate()[0].k6)}))}function A(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,28,"ion-item",[],null,null,null,_.gb,_.s)),e.tb(1,49152,null,0,i.I,[e.h,e.k,e.A],null,null),(n()(),e.jb(16777216,null,0,1,null,k)),e.tb(3,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,0,1,null,M)),e.tb(5,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,0,1,null,x)),e.tb(7,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(8,0,null,0,4,"h2",[["class","drive"]],null,null,null,null,null)),(n()(),e.ub(9,0,null,null,3,"strong",[],null,null,null,null,null)),(n()(),e.ub(10,0,null,null,1,"ion-icon",[["name","contact"]],null,null,null,_.ab,_.o)),e.tb(11,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(12,null,[""," "])),(n()(),e.jb(16777216,null,0,1,null,D)),e.tb(14,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(15,0,null,0,3,"p",[["class",""]],null,null,null,null,null)),(n()(),e.ub(16,0,null,null,1,"ion-icon",[["name","locate"]],null,null,null,_.ab,_.o)),e.tb(17,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(18,null,[""," "])),(n()(),e.ub(19,0,null,0,3,"p",[["class","destination"]],null,null,null,null,null)),(n()(),e.ub(20,0,null,null,1,"ion-icon",[["name","flag"]],null,null,null,_.ab,_.o)),e.tb(21,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.Ob(22,null,[""," "])),(n()(),e.jb(16777216,null,0,1,null,y)),e.tb(24,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,0,1,null,w)),e.tb(26,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,0,1,null,I)),e.tb(28,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,3,0,-1==l.parent.context.$implicit.duedate),n(l,5,0,l.parent.context.$implicit.duedate>=0),n(l,7,0,l.parent.context.$implicit.duedate>=0&&null!=l.parent.context.$implicit.time),n(l,11,0,"contact"),n(l,14,0,0!=l.parent.context.$implicit.price),n(l,17,0,"locate"),n(l,21,0,"flag"),n(l,24,0,l.parent.context.$implicit.duedate>0),n(l,26,0,0==l.parent.context.$implicit.duedate),n(l,28,0,-1==l.parent.context.$implicit.duedate)}),(function(n,l){n(l,12,0,null==l.parent.context.$implicit?null:l.parent.context.$implicit.name),n(l,18,0,null==l.parent.context.$implicit?null:l.parent.context.$implicit.location),n(l,22,0,null==l.parent.context.$implicit?null:l.parent.context.$implicit.destination)}))}function $(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,5,"ion-list",[["class","ion-text-center"]],null,null,null,_.ib,_.w)),e.tb(1,49152,null,0,i.P,[e.h,e.k,e.A],null,null),(n()(),e.jb(16777216,null,0,1,null,O)),e.tb(3,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,0,1,null,A)),e.tb(5,16384,null,0,C.k,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,3,0,!l.context.$implicit.duedate>=!t.bookable),n(l,5,0,l.context.$implicit.duedate>=t.bookable)}),null)}function j(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,9,"ion-header",[["no-border",""]],null,null,null,_.Z,_.n)),e.tb(1,49152,null,0,i.C,[e.h,e.k,e.A],null,null),(n()(),e.ub(2,0,null,0,7,"ion-toolbar",[["style","margin-top: 20px"]],null,null,null,_.wb,_.K)),e.tb(3,49152,null,0,i.Db,[e.h,e.k,e.A],null,null),(n()(),e.ub(4,0,null,0,5,"ion-button",[["color","primary"],["fill","clear"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.goBack()&&e),e}),_.P,_.d)),e.tb(5,49152,null,0,i.l,[e.h,e.k,e.A],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),e.ub(6,0,null,0,1,"ion-icon",[["name","arrow-back"],["style","font-size: 1.5em"]],null,null,null,_.ab,_.o)),e.tb(7,49152,null,0,i.D,[e.h,e.k,e.A],{name:[0,"name"]},null),(n()(),e.ub(8,0,null,0,1,"span",[["style","margin-left:30px; font-size: 1.4em"]],null,null,null,null,null)),(n()(),e.Ob(9,null,["",""])),(n()(),e.ub(10,0,null,null,4,"ion-content",[["class","yes-scroll"]],null,null,null,_.S,_.g)),e.tb(11,49152,null,0,i.v,[e.h,e.k,e.A],null,null),(n()(),e.ub(12,0,null,0,2,"div",[["class","followed-items"]],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,$)),e.tb(14,278528,null,0,C.j,[e.P,e.M,e.t],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,5,0,"primary","clear"),n(l,7,0,"arrow-back"),n(l,14,0,t.scheduleList)}),(function(n,l){n(l,9,0,l.component.lp.translate()[0].k1)}))}function z(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"app-schedule",[],null,null,null,j,P)),e.tb(1,114688,null,0,m,[i.Kb,u.a,a.a,i.f,i.Nb,v.a,s.a,c.a,p.a,r.a,d.a,i.Hb,g.a,i.b,b.a],null,null)],(function(n,l){n(l,1,0)}),null)}var N=e.qb("app-schedule",m,z,{},{},[]),E=t("gIcY");t.d(l,"SchedulePageModuleNgFactory",(function(){return L}));var L=e.rb(f,[],(function(n){return e.Db([e.Eb(512,e.j,e.cb,[[8,[h.a,N]],[3,e.j],e.y]),e.Eb(4608,C.m,C.l,[e.v,[2,C.y]]),e.Eb(4608,E.w,E.w,[]),e.Eb(4608,i.c,i.c,[e.A,e.g]),e.Eb(4608,i.Jb,i.Jb,[i.c,e.j,e.r]),e.Eb(4608,i.Ob,i.Ob,[i.c,e.j,e.r]),e.Eb(1073742336,C.b,C.b,[]),e.Eb(1073742336,E.v,E.v,[]),e.Eb(1073742336,E.j,E.j,[]),e.Eb(1073742336,i.Fb,i.Fb,[]),e.Eb(1073742336,v.o,v.o,[[2,v.t],[2,v.m]]),e.Eb(1073742336,f,f,[]),e.Eb(1024,v.k,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);